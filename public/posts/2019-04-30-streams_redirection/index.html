<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Stream redirection tl;dr | Random notes to myself</title><meta name=keywords content><meta name=description content="I love terminal, it is so simple and so reliable. When I&rsquo;m in doubt, when I&rsquo;m not sure the GUI I&rsquo;m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.
Every process has at least three communication channels a.k.a. streams attached to it:
 STDIN. Standard input with file descriptor 0 STDOUT. Standard output with file decriptor 1 STDERR. Standard error with file descriptor 2  Usually when we work with streams we use file descriptor numbers."><meta name=author content><link rel=canonical href=https://slash3b.github.io/posts/2019-04-30-streams_redirection/><link crossorigin=anonymous href=/assets/css/stylesheet.min.61dfb3f0b4cda95d2ccb867f9a3b244ce5d23e12492bcc3c277df594c7bc1adf.css integrity="sha256-Yd+z8LTNqV0sy4Z/mjskTOXSPhJJK8w8J331lMe8Gt8=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><link rel=icon href=https://slash3b.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://slash3b.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://slash3b.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://slash3b.github.io/apple-touch-icon.png><link rel=mask-icon href=https://slash3b.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.68.3"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme: rgb(29, 30, 32);--entry: rgb(46, 46, 51);--primary: rgb(218, 218, 219);--secondary: rgb(155, 156, 157);--tertiary: rgb(65, 66, 68);--content: rgb(196, 196, 197);--hljs-bg: rgb(46, 46, 51);--code-bg: rgb(55, 56, 62);--border: rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Stream redirection tl;dr"><meta property="og:description" content="I love terminal, it is so simple and so reliable. When I&rsquo;m in doubt, when I&rsquo;m not sure the GUI I&rsquo;m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.
Every process has at least three communication channels a.k.a. streams attached to it:
 STDIN. Standard input with file descriptor 0 STDOUT. Standard output with file decriptor 1 STDERR. Standard error with file descriptor 2  Usually when we work with streams we use file descriptor numbers."><meta property="og:type" content="article"><meta property="og:url" content="https://slash3b.github.io/posts/2019-04-30-streams_redirection/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-04-30T00:00:00+00:00"><meta property="article:modified_time" content="2019-04-30T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Stream redirection tl;dr"><meta name=twitter:description content="I love terminal, it is so simple and so reliable. When I&rsquo;m in doubt, when I&rsquo;m not sure the GUI I&rsquo;m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.
Every process has at least three communication channels a.k.a. streams attached to it:
 STDIN. Standard input with file descriptor 0 STDOUT. Standard output with file decriptor 1 STDERR. Standard error with file descriptor 2  Usually when we work with streams we use file descriptor numbers."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":3,"name":"Stream redirection tl;dr","item":"https://slash3b.github.io/posts/2019-04-30-streams_redirection/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Stream redirection tl;dr","name":"Stream redirection tl;dr","description":"I love terminal, it is so simple and so reliable. When I\u0026rsquo;m in doubt, when I\u0026rsquo;m not sure the GUI I\u0026rsquo;m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.\nEvery process has at least three communication channels a.k.a. streams attached to it:\n STDIN. Standard input with file descriptor 0 STDOUT. Standard output with file decriptor 1 STDERR. Standard error with file descriptor 2  Usually when we work with streams we use file descriptor numbers.","keywords":[],"articleBody":"I love terminal, it is so simple and so reliable. When I’m in doubt, when I’m not sure the GUI I’m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.\nEvery process has at least three communication channels a.k.a. streams attached to it:\n STDIN. Standard input with file descriptor 0 STDOUT. Standard output with file decriptor 1 STDERR. Standard error with file descriptor 2  Usually when we work with streams we use file descriptor numbers.\n Note: if you want to learn more or something is not clear, definetely check post by @thewizardlus,\nlink in the Resources section.\n Redirect STDOUT to some file:\n{% highlight bash %} cat /proc/sys/kernel/hostname 1 /tmp/test {%endhighlight%}\nMore complex example with piping and STDOUT redirection:\n{% highlight bash %}mysql -uuser -ppass db_name | bzip  1.sql.bz2{%endhighlight%}\nRedirect STDERR to some file, note - wrong filename:\n{% highlight bash %} cat /proc/sys/kernel/hostname_ 2 /tmp/test {%endhighlight%}\nRedirect STDOUT and STDERR to the file with \u0026 shortcut:\n{% highlight bash %} cat smth /proc/sys/kernel/hostname \u0026 /tmp/test {%endhighlight%}\nAnother way to redirect STDOUT to STDERR is to use 2\u00261 in the end of line like this:\n{% highlight bash %} cat smth /proc/sys/kernel/hostname  /tmp/test 2\u00261 {%endhighlight%}\n… here your shell will first analyze what is going on and only then command will be launched. So shell does this analysys from left to right and first it sees redirection to the file, then it sees STDERR to STROUT redirection and does that, only then the whole line is “launched”.\nDirect STDOUT to STDIN of another program:\n{% highlight bash %} sed -n “${RANDOM}p”  sign for redirection from file to the stream editor.\nResources:\nUNIX and Linux System Administration Handbook chapter 7: Scripting and shell\nExcellent post about streams by Lucas F. Costa @thewizardlucas - Your terminal is not a terminal: An Introduction to Streams\npipes versus redirects\n","wordCount":"328","inLanguage":"en","datePublished":"2019-04-30T00:00:00Z","dateModified":"2019-04-30T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://slash3b.github.io/posts/2019-04-30-streams_redirection/"},"publisher":{"@type":"Organization","name":"Random notes to myself","logo":{"@type":"ImageObject","url":"https://slash3b.github.io/favicon.ico"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><header class=header><nav class=nav><div class=logo><a href=https://slash3b.github.io accesskey=h title="Random notes to myself (Alt + H)">Random notes to myself</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Stream redirection tl;dr</h1><div class=post-meta>April 30, 2019</div></header><div class=post-content><p>I love terminal, it is so simple and so reliable. When I&rsquo;m in doubt, when I&rsquo;m not sure the GUI I&rsquo;m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.</p><p>Every process has <em>at least</em> three communication channels a.k.a. streams attached to it:</p><ul><li>STDIN. Standard input with file descriptor 0</li><li>STDOUT. Standard output with file decriptor 1</li><li>STDERR. Standard error with file descriptor 2</li></ul><p>Usually when we work with streams we use file descriptor numbers.</p><blockquote><p>Note: if you want to learn more or something is not clear, definetely check post by @thewizardlus,<br>link in the Resources section.</p></blockquote><p>Redirect STDOUT to some file:<br>{% highlight bash %}
cat /proc/sys/kernel/hostname 1> /tmp/test
{%endhighlight%}</p><p>More complex example with piping and STDOUT redirection:<br>{% highlight bash %}mysql -uuser -ppass db_name | bzip > 1.sql.bz2{%endhighlight%}</p><p>Redirect STDERR to some file, note - wrong filename:<br>{% highlight bash %}
cat /proc/sys/kernel/hostname_ 2> /tmp/test
{%endhighlight%}</p><p>Redirect STDOUT and STDERR to the file with <strong>&></strong> shortcut:<br>{% highlight bash %}
cat smth /proc/sys/kernel/hostname &> /tmp/test
{%endhighlight%}</p><p>Another way to redirect STDOUT to STDERR is to use <strong>2>&1</strong> in the end of line like this:<br>{% highlight bash %}
cat smth /proc/sys/kernel/hostname > /tmp/test 2>&1
{%endhighlight%}</p><p>&mldr; here your shell will first analyze what is going on and only then command will be launched. So shell does this analysys from left to right and first it sees redirection to the file, then it sees STDERR to STROUT redirection and does that, only then the whole line is &ldquo;launched&rdquo;.</p><p>Direct STDOUT to STDIN of another program:<br>{% highlight bash %}
sed -n &ldquo;${RANDOM}p&rdquo; &lt; /usr/share/dict/words
{% endhighlight %}
Pay attention that here we used <strong>&lt;</strong> sign for redirection from file to the stream editor.</p><p>Resources:<br><a href=https://www.amazon.com/gp/product/B075MK6LZ7>UNIX and Linux System Administration Handbook</a> chapter 7: Scripting and shell</p><p>Excellent post about streams by Lucas F. Costa <a href=https://twitter.com/thewizardlucas>@thewizardlucas</a> -
<a href=https://lucasfcosta.com/2019/04/07/streams-introduction.html>Your terminal is not a terminal: An Introduction to Streams</a></p><p><a href=https://superuser.com/questions/277324/pipes-vs-redirects>pipes versus redirects</a></p></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://slash3b.github.io>Random notes to myself</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z" /></svg></a><script>let menu=document.getElementById('menu')
menu.scrollLeft=localStorage.getItem("menu-scroll-position");menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft);}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>