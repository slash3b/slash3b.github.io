<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Go slices mind-twister | Random notes to myself</title>
<meta name=keywords content="go"><meta name=description content="This snippet of code got me off guard.
Having a somewhat decent experience with golang I could not explain what is it doing and it took me embarrassingly a lot of time to figure out a sound explanation for what was going on.
After I figured out the answer, I think that my sleep deprivation just played tricks on me. Still let&rsquo;s dig into this.
Down below is the same snippet but with a slice of integers for simplicity:"><meta name=author content><link rel=canonical href=https://localhost:1313/posts/2024-05-05-go-slices-mind-twister/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=https://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=https://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://localhost:1313/posts/2024-05-05-go-slices-mind-twister/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Go slices mind-twister"><meta property="og:description" content="This snippet of code got me off guard.
Having a somewhat decent experience with golang I could not explain what is it doing and it took me embarrassingly a lot of time to figure out a sound explanation for what was going on.
After I figured out the answer, I think that my sleep deprivation just played tricks on me. Still let&rsquo;s dig into this.
Down below is the same snippet but with a slice of integers for simplicity:"><meta property="og:type" content="article"><meta property="og:url" content="https://localhost:1313/posts/2024-05-05-go-slices-mind-twister/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-05-05T15:48:38+03:00"><meta property="article:modified_time" content="2024-05-05T15:48:38+03:00"><meta property="og:site_name" content="Random notes to myself"><meta name=twitter:card content="summary"><meta name=twitter:title content="Go slices mind-twister"><meta name=twitter:description content="This snippet of code got me off guard.
Having a somewhat decent experience with golang I could not explain what is it doing and it took me embarrassingly a lot of time to figure out a sound explanation for what was going on.
After I figured out the answer, I think that my sleep deprivation just played tricks on me. Still let&rsquo;s dig into this.
Down below is the same snippet but with a slice of integers for simplicity:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Go slices mind-twister","item":"https://localhost:1313/posts/2024-05-05-go-slices-mind-twister/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Go slices mind-twister","name":"Go slices mind-twister","description":"This snippet of code got me off guard.\nHaving a somewhat decent experience with golang I could not explain what is it doing and it took me embarrassingly a lot of time to figure out a sound explanation for what was going on.\nAfter I figured out the answer, I think that my sleep deprivation just played tricks on me. Still let\u0026rsquo;s dig into this.\nDown below is the same snippet but with a slice of integers for simplicity:","keywords":["go"],"articleBody":"This snippet of code got me off guard.\nHaving a somewhat decent experience with golang I could not explain what is it doing and it took me embarrassingly a lot of time to figure out a sound explanation for what was going on.\nAfter I figured out the answer, I think that my sleep deprivation just played tricks on me. Still let’s dig into this.\nDown below is the same snippet but with a slice of integers for simplicity:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 package main import ( \"fmt\" ) func main() { firstSlice := []int{1,2,3,4,5,6} firstSlice = firstSlice[:5] secondSlice := firstSlice firstSlice = append(firstSlice, 8) // This will print: [1 2 3 4 5 8] fmt.Println(firstSlice) secondSlice = append(secondSlice, 10) // This will print: [1 2 3 4 5 10] fmt.Println(firstSlice) // This will print: [1 2 3 4 5 10] fmt.Println(secondSlice) // Bonus: firstSlice = append(firstSlice, 11) secondSlice = append(secondSlice, 13) // This will print: [1 2 3 4 5 10 11] fmt.Println(firstSlice) // This will print: [1 2 3 4 5 10 13] fmt.Println(secondSlice) } We created a slice of integers, then we re-sliced it down by one last element.\nHold on a second. What is a slice really?\nThere is a ton of material online on that subject. I only mention that slice is a 3 word data structure, that looks like this:\n$ go doc reflect SliceHeader package reflect // import \"reflect\" type SliceHeader struct { Data uintptr Len int Cap int } ... Each slice points to the underlying array in memory.\nBack to code.\nOn line 10 we copied firstSlice to secondSlice. Remember, that we only copied 3 word data structure, not the array itself.\nI am going to use dlv and run dlv debug main.go and put a breakpoint on line 11 with break ./main.go:11. Now let’s see how both slices look like in memory:\n(dlv) examinemem -fmt hex -size 8 -count 3 -x \u0026firstSlice 0xc000192e70: 0x000000c0001a6000 0x0000000000000005 0x0000000000000006 (dlv) examinemem -fmt hex -size 8 -count 3 -x \u0026secondSlice 0xc000192e58: 0x000000c0001a6000 0x0000000000000005 0x0000000000000006 As you can see both slices are of length 5 and have capacity 6. Both slices point to the same address in memory.\nBut what is that address 0x000000c0001a6000?\nThis address points to the first element in contiguous block of memory allocated for array.\nBy knowing the address of the first element of array and knowing its capacity we can see the whole array in memory, like this:\n(dlv) examinemem -fmt dec -size 8 -count 6 -x 0x000000c0001a6000 0xc0001a6000: 000000000000000000000001 000000000000000000000002 000000000000000000000003 000000000000000000000004 000000000000000000000005 000000000000000000000006 Let’s go further. On line 11 we append 8 int to the firstSlice.\nSlice having len 5 and cap 6 takes in another integer and overwrites value 6.\nObserve that pointer address to the first element did not change.\n(dlv) examinemem -fmt hex -size 8 -count 3 -x \u0026firstSlice 0xc000192e70: 0x000000c0001a6000 0x0000000000000006 0x0000000000000006 And when I print the firstSlice I see it is of len 6 with 8 being the last element:\n(dlv) p firstSlice []int len: 6, cap: 6, [1,2,3,4,5,8] Now, let’s jump straight to the line 21. A new integer was added to secondSlice, but somehow it did change the firstSlice as well! What the hell? And the answer is quite simple.\nBoth slices point to the same region in memory, namely first element of an array. The lenght and capacity is what is unique for every slice. With this knowledge it is clear that while an 8 was added to the firstSlice it was also added to the secondSlice. The catch is that secondSlice did not know about this because its len was at 5. So when secondSlice took in 10 value it effectively replaced 8.\nMoving further.\nJumping straight to the end of our code snippet, line 30. Clearly appending 11 to the firstSlice and 13 to the secondSlice does not have the same effect we observed before.\nWhat happened?\nSlices grew up. Both slices were at the point when slice lenght and capacity were equal. When new element is added, a couple of things happen. A new, larger array is allocated in memory, then all values from old array are copied to new one. All that happens in append builtin function. So on lines 25 and 26, append created two new separate slices, each with its own underlying array in memory.\n(dlv) examinemem -fmt hex -size 8 -count 3 -x \u0026firstSlice 0xc0001b1e70: 0x000000c00018c060 0x0000000000000007 0x000000000000000c (dlv) examinemem -fmt hex -size 8 -count 3 -x \u0026secondSlice 0xc0001b1e58: 0x000000c00018c0c0 0x0000000000000007 0x000000000000000c Note how firstSlice and secondSlice are no longer point to the same Data pointer address.\nAnd both now live a separate life.\n(dlv) p firstSlice []int len: 7, cap: 12, [1,2,3,4,5,10,11] (dlv) p secondSlice []int len: 7, cap: 12, [1,2,3,4,5,10,13] That is it. Thanks for reading!\nPlease sleep normal hours if you can.\nLinks:\nslices intro research.swtch.com/godata slice header explanation ","wordCount":"836","inLanguage":"en","datePublished":"2024-05-05T15:48:38+03:00","dateModified":"2024-05-05T15:48:38+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://localhost:1313/posts/2024-05-05-go-slices-mind-twister/"},"publisher":{"@type":"Organization","name":"Random notes to myself","logo":{"@type":"ImageObject","url":"https://localhost:1313/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=https://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://localhost:1313/archives/ title=archives><span>archives</span></a></li><li><a href=https://localhost:1313/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Go slices mind-twister</h1><div class=post-meta><span title='2024-05-05 15:48:38 +0300 EEST'>May 5, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;836 words&nbsp;|&nbsp;<a href=https://github.com/slash3b/slash3b.github.io/content/posts/2024-05-05-go-slices-mind-twister.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>This <a href=https://gist.github.com/janosdebugs/f0a3b91a0a070ffb067de4dc22a93c64>snippet</a> of code got me off guard.<br>Having a somewhat decent experience with golang I could not explain what is it doing and it took me embarrassingly a lot of time to figure out a sound explanation for what was going on.</p><p>After I figured out the answer, I think that my sleep deprivation just played tricks on me. Still let&rsquo;s dig into this.</p><p>Down below is the same snippet but with a slice of integers for simplicity:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=font-weight:700;text-decoration:underline>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700;text-decoration:underline>import</span> (
</span></span><span style=display:flex><span>    <span style=color:#666;font-style:italic>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700;font-style:italic;text-decoration:underline>func</span> <span style=color:#666;font-weight:700;font-style:italic>main</span>() {
</span></span><span style=display:flex><span>    firstSlice := []<span style=font-weight:700;text-decoration:underline>int</span>{1,2,3,4,5,6}
</span></span><span style=display:flex><span>    firstSlice = firstSlice[:5]
</span></span><span style=display:flex><span>    secondSlice := firstSlice
</span></span><span style=display:flex><span>    firstSlice = <span style=font-weight:700;font-style:italic>append</span>(firstSlice, 8)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#888;font-style:italic>// This will print: [1 2 3 4 5 8]
</span></span></span><span style=display:flex><span><span style=color:#888;font-style:italic></span>    fmt.<span style=color:#666;font-weight:700;font-style:italic>Println</span>(firstSlice)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    secondSlice = <span style=font-weight:700;font-style:italic>append</span>(secondSlice, 10)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#888;font-style:italic>// This will print: [1 2 3 4 5 10]
</span></span></span><span style=display:flex><span><span style=color:#888;font-style:italic></span>    fmt.<span style=color:#666;font-weight:700;font-style:italic>Println</span>(firstSlice)
</span></span><span style=display:flex><span>    <span style=color:#888;font-style:italic>// This will print: [1 2 3 4 5 10]
</span></span></span><span style=display:flex><span><span style=color:#888;font-style:italic></span>    fmt.<span style=color:#666;font-weight:700;font-style:italic>Println</span>(secondSlice)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#888;font-style:italic>// Bonus:
</span></span></span><span style=display:flex><span><span style=color:#888;font-style:italic></span>
</span></span><span style=display:flex><span>    firstSlice = <span style=font-weight:700;font-style:italic>append</span>(firstSlice, 11)
</span></span><span style=display:flex><span>    secondSlice = <span style=font-weight:700;font-style:italic>append</span>(secondSlice, 13)
</span></span><span style=display:flex><span>    <span style=color:#888;font-style:italic>// This will print: [1 2 3 4 5 10 11]
</span></span></span><span style=display:flex><span><span style=color:#888;font-style:italic></span>    fmt.<span style=color:#666;font-weight:700;font-style:italic>Println</span>(firstSlice)
</span></span><span style=display:flex><span>    <span style=color:#888;font-style:italic>// This will print: [1 2 3 4 5 10 13]
</span></span></span><span style=display:flex><span><span style=color:#888;font-style:italic></span>    fmt.<span style=color:#666;font-weight:700;font-style:italic>Println</span>(secondSlice)
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>We created a slice of integers, then we re-sliced it down by one last element.</p><blockquote><p>Hold on a second. What is a slice really?</p></blockquote><p>There is a ton of material online on that subject. I only mention that slice is a 3 word data structure, that looks like this:</p><pre tabindex=0><code>$ go doc reflect SliceHeader
package reflect // import &#34;reflect&#34;

type SliceHeader struct {
        Data uintptr
        Len  int
        Cap  int
}
...
</code></pre><p>Each slice points to the underlying array in memory.</p><p>Back to code.</p><p>On line 10 we copied <code>firstSlice</code> to <code>secondSlice</code>. Remember, that we only copied 3 word data structure, not the array itself.</p><p>I am going to use <code>dlv</code> and run <code>dlv debug main.go</code> and put a breakpoint on line 11 with <code>break ./main.go:11</code>.
Now let&rsquo;s see how both slices look like in memory:</p><pre tabindex=0><code>(dlv) examinemem -fmt hex -size 8 -count 3 -x &amp;firstSlice
0xc000192e70:   0x000000c0001a6000   0x0000000000000005   0x0000000000000006
(dlv) examinemem -fmt hex -size 8 -count 3 -x &amp;secondSlice
0xc000192e58:   0x000000c0001a6000   0x0000000000000005   0x0000000000000006
</code></pre><p>As you can see both slices are of length 5 and have capacity 6.
Both slices point to the same address in memory.<br>But what is that address <code>0x000000c0001a6000</code>?<br>This address points to the <strong>first</strong> element in contiguous block of memory allocated for array.</p><p>By knowing the address of the first element of array and knowing its capacity we can see the whole array in memory, like this:</p><pre tabindex=0><code>(dlv) examinemem -fmt dec -size 8 -count 6 -x 0x000000c0001a6000
0xc0001a6000:   000000000000000000000001   000000000000000000000002   000000000000000000000003   000000000000000000000004   000000000000000000000005   000000000000000000000006
</code></pre><p>Let&rsquo;s go further. On line 11 we append <code>8</code> int to the <code>firstSlice</code>.<br>Slice having len 5 and cap 6 takes in another integer and overwrites value <code>6</code>.<br>Observe that pointer address to the first element did not change.</p><pre tabindex=0><code>(dlv) examinemem -fmt hex -size 8 -count 3 -x &amp;firstSlice
0xc000192e70:   0x000000c0001a6000   0x0000000000000006   0x0000000000000006
</code></pre><p>And when I print the <code>firstSlice</code> I see it is of len 6 with <code>8</code> being the last element:</p><pre tabindex=0><code>(dlv) p firstSlice
[]int len: 6, cap: 6, [1,2,3,4,5,8]
</code></pre><p>Now, let&rsquo;s jump straight to the line 21. A new integer was added to <code>secondSlice</code>, but somehow it did change the <code>firstSlice</code> as well! What the hell? And the answer is quite simple.</p><p>Both slices point to the same region in memory, namely first element of an array. <strong>The lenght and capacity is what is unique for every slice</strong>.
With this knowledge it is clear that while an <code>8</code> was added to the <code>firstSlice</code> it was also added to the <code>secondSlice</code>. The catch is that <code>secondSlice</code> did not know about this because its len was at 5. So when <code>secondSlice</code> took in <code>10</code> value it effectively replaced <code>8</code>.</p><p>Moving further.</p><p>Jumping straight to the end of our code snippet, line 30.
Clearly appending <code>11</code> to the <code>firstSlice</code> and <code>13</code> to the <code>secondSlice</code> does not have the same effect we observed before.</p><p>What happened?</p><p>Slices grew up. Both slices were at the point when slice lenght and capacity were equal. When new element is added, a couple of things happen. A new, larger array is allocated in memory, then all values from old array are copied to new one. All that happens in <code>append</code> builtin function. So on lines 25 and 26, <code>append</code> created two new <strong>separate</strong> slices, each with its own underlying array in memory.</p><pre tabindex=0><code>(dlv) examinemem -fmt hex -size 8 -count 3 -x &amp;firstSlice
0xc0001b1e70:   0x000000c00018c060   0x0000000000000007   0x000000000000000c
(dlv) examinemem -fmt hex -size 8 -count 3 -x &amp;secondSlice
0xc0001b1e58:   0x000000c00018c0c0   0x0000000000000007   0x000000000000000c
</code></pre><p>Note how <code>firstSlice</code> and <code>secondSlice</code> are no longer point to the same <code>Data</code> pointer address.</p><p>And both now live a separate life.</p><pre tabindex=0><code>(dlv) p firstSlice
[]int len: 7, cap: 12, [1,2,3,4,5,10,11]
(dlv) p secondSlice
[]int len: 7, cap: 12, [1,2,3,4,5,10,13]
</code></pre><p>That is it. Thanks for reading!<br>Please sleep normal hours if you can.</p><p>Links:</p><ul><li><a href=https://go.dev/blog/slices-intro>slices intro</a></li><li><a href=https://research.swtch.com/godata>research.swtch.com/godata</a></li><li><a href="https://www.youtube.com/watch?v=fF68HELl78E">slice header explanation</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://localhost:1313/tags/go/>Go</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://localhost:1313/>Random notes to myself</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>