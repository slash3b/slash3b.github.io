<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Notes on 'Go in action' book | Random notes to myself</title>
<meta name=keywords content><meta name=description content="Slice takes 24 bit of memory — 8 bit for pointer, 8 for len and 8 for capacity.
Passing a slice between functions is okay, since it is copied BUT in the copied version we still have the correct pointer.
Reference types in Go:
string slice map channel interface function The decision to use value or pointer receiver should not be based on whether method is mutating given value or not."><meta name=author content><link rel=canonical href=https://localhost:1313/posts/2021-06-26-go-in-action-notes/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=https://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=https://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://localhost:1313/posts/2021-06-26-go-in-action-notes/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Notes on 'Go in action' book"><meta property="og:description" content="Slice takes 24 bit of memory — 8 bit for pointer, 8 for len and 8 for capacity.
Passing a slice between functions is okay, since it is copied BUT in the copied version we still have the correct pointer.
Reference types in Go:
string slice map channel interface function The decision to use value or pointer receiver should not be based on whether method is mutating given value or not."><meta property="og:type" content="article"><meta property="og:url" content="https://localhost:1313/posts/2021-06-26-go-in-action-notes/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-18T00:00:00+00:00"><meta property="article:modified_time" content="2021-07-18T00:00:00+00:00"><meta property="og:site_name" content="Random notes to myself"><meta name=twitter:card content="summary"><meta name=twitter:title content="Notes on 'Go in action' book"><meta name=twitter:description content="Slice takes 24 bit of memory — 8 bit for pointer, 8 for len and 8 for capacity.
Passing a slice between functions is okay, since it is copied BUT in the copied version we still have the correct pointer.
Reference types in Go:
string slice map channel interface function The decision to use value or pointer receiver should not be based on whether method is mutating given value or not."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Notes on 'Go in action' book","item":"https://localhost:1313/posts/2021-06-26-go-in-action-notes/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Notes on 'Go in action' book","name":"Notes on \u0027Go in action\u0027 book","description":"Slice takes 24 bit of memory — 8 bit for pointer, 8 for len and 8 for capacity.\nPassing a slice between functions is okay, since it is copied BUT in the copied version we still have the correct pointer.\nReference types in Go:\nstring slice map channel interface function The decision to use value or pointer receiver should not be based on whether method is mutating given value or not.","keywords":[],"articleBody":"Slice takes 24 bit of memory — 8 bit for pointer, 8 for len and 8 for capacity.\nPassing a slice between functions is okay, since it is copied BUT in the copied version we still have the correct pointer.\nReference types in Go:\nstring slice map channel interface function The decision to use value or pointer receiver should not be based on whether method is mutating given value or not. Decision should be based on a nature of a given type. e.g. time is always a copy, you can’t really change time. A File can be changed so it should be passed as a reference. See how it is implemented in core library.\nMethod set define rules around interface compliance.\nMethod set is associated with value or pointer of given type and vice-versa.\nMethod set rules.\nValues Methods Receivers ----------------------------------------------- T\t(t T) *T\t(t T) and (t *T) Methods Receivers Values ----------------------------------------------- (t T)\tT and *T (t *T)\t*T Exporting and unexporting indentifiers.\nIdentifiers are exported or unexported, not values. That means that it is possible to export “unexported” value. The short variable declaration operator is capable of inferring the type and creating a variable of the unexported type. You can never explicitly create a variable of an unexported type, but the short variable declaration operator can.\nConcurrency.\nEach process that is run by the system has at least one thread. This thread is called main thread.\nConcurrency is not parallelism. Parallelism can only be achieved when multiple pieces of code are executing simultaneously against different physical processors. Parallelism is about doing a lot of things at once. Concurrency is about managing a lot of things at once. In many cases, concurrency can outperform parallelism, because the strain on the operating system and hardware is much less, which allows the system to do more. This less-is-more philosophy is a mantra of the language.\nBased on the internal algorithms of the scheduler, a running goroutine can be stopped and rescheduled to run again before it finishes its work. The scheduler does this to prevent any single goroutine from holding the logical processor hostage. It will stop the currently running goroutine and give another runnable goroutine a chance to run.\nSuprisingly useful and light package “sync/atomic” to work with primitives while running goroutines. e.g. simple atomic.StoreInt64() can be used as a signal for all goroutines to stop work and return.\nBeing able to receive on a closed channel is a very usefull since it allows to dry channel and not lost any data.\nConcurrency patterns.\nRunner Pooling Work Standard library. Includes many useful things if you are just starting to learn the language.\nTesting and benchmarking. Good introduction for those who start to learn language.\n","wordCount":"456","inLanguage":"en","datePublished":"2021-07-18T00:00:00Z","dateModified":"2021-07-18T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://localhost:1313/posts/2021-06-26-go-in-action-notes/"},"publisher":{"@type":"Organization","name":"Random notes to myself","logo":{"@type":"ImageObject","url":"https://localhost:1313/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=https://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://localhost:1313/archives/ title=archives><span>archives</span></a></li><li><a href=https://localhost:1313/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Notes on 'Go in action' book</h1><div class=post-meta><span title='2021-07-18 00:00:00 +0000 UTC'>July 18, 2021</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;456 words&nbsp;|&nbsp;<a href=https://github.com/slash3b/slash3b.github.io/content/posts/2021-06-26-go-in-action-notes.markdown rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>Slice takes 24 bit of memory — 8 bit for pointer, 8 for len and 8 for capacity.<br>Passing a slice between functions is okay, since it is copied BUT in the copied version we still have the correct pointer.</p><p>Reference types in Go:</p><ul><li>string</li><li>slice</li><li>map</li><li>channel</li><li>interface</li><li>function</li></ul><p>The decision to use value or pointer receiver should not be based on whether method is mutating given value or not.
Decision should be based on a nature of a given type. e.g. time is always a copy, you can&rsquo;t really change time. A File
can be changed so it should be passed as a reference. See how it is implemented in core library.</p><p>Method set define rules around interface compliance.<br>Method set is associated with value or pointer of given type and vice-versa.</p><p>Method set rules.</p><pre tabindex=0><code>Values 			Methods Receivers
-----------------------------------------------
T			(t T)
*T			(t T) and (t *T)

Methods Receivers 	Values
-----------------------------------------------
(t T)			T and *T
(t *T)			*T
</code></pre><p>Exporting and unexporting indentifiers.</p><p>Identifiers are exported or unexported, not values. That means that it is possible to export &ldquo;unexported&rdquo; value.
The short variable declaration operator is capable of inferring the type and creating a variable of the unexported type.
You can never explicitly create a variable of an unexported type, but the short variable declaration operator can.</p><p>Concurrency.</p><p>Each process that is run by the system has at least one thread. This thread is called <strong>main thread</strong>.</p><p>Concurrency is not parallelism. Parallelism can only be achieved when multiple pieces of code are executing simultaneously against different physical processors. Parallelism is about doing a lot of things at once. Concurrency is about managing a lot of things at once. In many cases, concurrency can outperform parallelism, because the strain on the operating system and hardware is much less, which allows the system to do more. This less-is-more philosophy is a mantra of the language.</p><p>Based on the internal algorithms of the scheduler, a running goroutine can be stopped and rescheduled to run again before it finishes its work. The scheduler does this to prevent any single goroutine from holding the logical processor hostage. It will stop the currently running goroutine and give another runnable goroutine a chance to run.</p><p>Suprisingly useful and light package &ldquo;sync/atomic&rdquo; to work with primitives while running goroutines. e.g. simple <code>atomic.StoreInt64()</code> can be used as a signal for all goroutines to stop work and return.</p><p>Being able to receive on a closed channel is a very usefull since it allows to dry channel and not lost any data.</p><p>Concurrency patterns.</p><ul><li>Runner</li><li>Pooling</li><li>Work</li></ul><p>Standard library.
Includes many useful things if you are just starting to learn the language.</p><p>Testing and benchmarking.
Good introduction for those who start to learn language.</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://localhost:1313/posts/2021-09-04-go-patterns/><span class=title>« Prev</span><br><span>Golang concurrency tricks and patterns</span>
</a><a class=next href=https://localhost:1313/posts/2020-12-31-milestone-notes/><span class=title>Next »</span><br><span>Milestone notes</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://localhost:1313/>Random notes to myself</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>