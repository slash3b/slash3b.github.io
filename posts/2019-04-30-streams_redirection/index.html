<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Stream redirection tl;dr | Random notes to myself</title>
<meta name=keywords content><meta name=description content="I love terminal, it is so simple and so reliable. When I&rsquo;m in doubt, when I&rsquo;m not sure the GUI I&rsquo;m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.
Every process has at least three communication channels a.k.a. streams attached to it:
STDIN. Standard input with file descriptor 0 STDOUT. Standard output with file decriptor 1 STDERR. Standard error with file descriptor 2 Usually when we work with streams we use file descriptor numbers."><meta name=author content><link rel=canonical href=https://slash3b.github.io/posts/2019-04-30-streams_redirection/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://slash3b.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://slash3b.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://slash3b.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://slash3b.github.io/apple-touch-icon.png><link rel=mask-icon href=https://slash3b.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://slash3b.github.io/posts/2019-04-30-streams_redirection/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Stream redirection tl;dr"><meta property="og:description" content="I love terminal, it is so simple and so reliable. When I&rsquo;m in doubt, when I&rsquo;m not sure the GUI I&rsquo;m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.
Every process has at least three communication channels a.k.a. streams attached to it:
STDIN. Standard input with file descriptor 0 STDOUT. Standard output with file decriptor 1 STDERR. Standard error with file descriptor 2 Usually when we work with streams we use file descriptor numbers."><meta property="og:type" content="article"><meta property="og:url" content="https://slash3b.github.io/posts/2019-04-30-streams_redirection/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-04-30T00:00:00+00:00"><meta property="article:modified_time" content="2019-04-30T00:00:00+00:00"><meta property="og:site_name" content="Random notes to myself"><meta name=twitter:card content="summary"><meta name=twitter:title content="Stream redirection tl;dr"><meta name=twitter:description content="I love terminal, it is so simple and so reliable. When I&rsquo;m in doubt, when I&rsquo;m not sure the GUI I&rsquo;m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.
Every process has at least three communication channels a.k.a. streams attached to it:
STDIN. Standard input with file descriptor 0 STDOUT. Standard output with file decriptor 1 STDERR. Standard error with file descriptor 2 Usually when we work with streams we use file descriptor numbers."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://slash3b.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Stream redirection tl;dr","item":"https://slash3b.github.io/posts/2019-04-30-streams_redirection/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Stream redirection tl;dr","name":"Stream redirection tl;dr","description":"I love terminal, it is so simple and so reliable. When I\u0026rsquo;m in doubt, when I\u0026rsquo;m not sure the GUI I\u0026rsquo;m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.\nEvery process has at least three communication channels a.k.a. streams attached to it:\nSTDIN. Standard input with file descriptor 0 STDOUT. Standard output with file decriptor 1 STDERR. Standard error with file descriptor 2 Usually when we work with streams we use file descriptor numbers.","keywords":[],"articleBody":"I love terminal, it is so simple and so reliable. When I’m in doubt, when I’m not sure the GUI I’m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.\nEvery process has at least three communication channels a.k.a. streams attached to it:\nSTDIN. Standard input with file descriptor 0 STDOUT. Standard output with file decriptor 1 STDERR. Standard error with file descriptor 2 Usually when we work with streams we use file descriptor numbers.\nNote: if you want to learn more or something is not clear, definetely check post by @thewizardlucas, link in the Resources section.\nRedirect STDOUT to some file:\ncat /proc/sys/kernel/hostname 1\u003e /tmp/test More complex example with piping and STDOUT redirection:\nRedirect STDERR to some file, note — wrong filename:\ncat /proc/sys/kernel/hostname_ 2\u003e /tmp/test Redirect STDOUT and STDERR to the file with \u0026\u003e shortcut:\ncat smth /proc/sys/kernel/hostname \u0026\u003e /tmp/test Another way to redirect STDERR to STDOUT is to use 2\u003e\u00261 in the end of line like this:\ncat smth /proc/sys/kernel/hostname \u003e /tmp/test 2\u003e\u00261 … here your shell will first analyze what is going on and only then command will be launched. So shell does this analysys from left to right and first it sees redirection to the file, then it sees STDERR to STDOUT redirection and does that, only then the whole line is “launched”.\nDirect STDOUT to STDIN of another program:\nsed -n \"${RANDOM}p\" \u003c /usr/share/dict/words Pay attention that here we used \u003c sign for redirection from file to the stream editor.\nResources:\nUNIX and Linux System Administration Handbook chapter 7: Scripting and shell\nExcellent post about streams by Lucas F. Costa @thewizardlucas - Your terminal is not a terminal: An Introduction to Streams\npipes versus redirects\n","wordCount":"290","inLanguage":"en","datePublished":"2019-04-30T00:00:00Z","dateModified":"2019-04-30T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://slash3b.github.io/posts/2019-04-30-streams_redirection/"},"publisher":{"@type":"Organization","name":"Random notes to myself","logo":{"@type":"ImageObject","url":"https://slash3b.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://slash3b.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://slash3b.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://slash3b.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://slash3b.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Stream redirection tl;dr</h1><div class=post-meta><span title='2019-04-30 00:00:00 +0000 UTC'>April 30, 2019</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;290 words&nbsp;|&nbsp;<a href=https://github.com/slash3b/slash3b.github.io/content/posts/2019-04-30-streams_redirection.markdown rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>I love terminal, it is so simple and so reliable. When I&rsquo;m in doubt, when I&rsquo;m not sure the GUI
I&rsquo;m working with gives me correct representation I always turn to the terminal as an ultimate source of truth.</p><p>Every process has <em>at least</em> three communication channels a.k.a. streams attached to it:</p><ul><li>STDIN. Standard input with file descriptor <code>0</code></li><li>STDOUT. Standard output with file decriptor <code>1</code></li><li>STDERR. Standard error with file descriptor <code>2</code></li></ul><p>Usually when we work with streams we use file descriptor numbers.</p><blockquote><p>Note: if you want to learn more or something is not clear, definetely check post by @thewizardlucas,
link in the Resources section.</p></blockquote><p>Redirect <code>STDOUT</code> to some file:</p><pre tabindex=0><code>    cat /proc/sys/kernel/hostname 1&gt; /tmp/test
</code></pre><p>More complex example with piping and STDOUT redirection:</p><p>Redirect <code>STDERR</code> to some file, note — wrong filename:</p><pre tabindex=0><code>    cat /proc/sys/kernel/hostname_ 2&gt; /tmp/test
</code></pre><p>Redirect <code>STDOUT</code> <strong>and</strong> <code>STDERR</code> to the file with <code>&></code> shortcut:</p><pre tabindex=0><code>    cat smth /proc/sys/kernel/hostname &amp;&gt; /tmp/test
</code></pre><p>Another way to redirect <code>STDERR</code> <strong>to</strong> <code>STDOUT</code> is to use <code>2>&amp;1</code> in the end of line like this:</p><pre tabindex=0><code>    cat smth /proc/sys/kernel/hostname &gt; /tmp/test 2&gt;&amp;1
</code></pre><p>&mldr; here your shell will first analyze what is going on and only then command will be launched.
So shell does this analysys from left to right and first it sees redirection to the file,
then it sees <code>STDERR</code> to <code>STDOUT</code> redirection and does that, only then the whole line is &ldquo;launched&rdquo;.</p><p>Direct <code>STDOUT</code> to <code>STDIN</code> of another program:</p><pre tabindex=0><code>sed -n &#34;${RANDOM}p&#34; &lt; /usr/share/dict/words
</code></pre><p>Pay attention that here we used <code>&lt;</code> sign for redirection from file to the stream editor.</p><p>Resources:<br><a href=https://www.amazon.com/gp/product/B075MK6LZ7>UNIX and Linux System Administration Handbook</a> chapter 7: Scripting and shell</p><p>Excellent post about streams by Lucas F. Costa <a href=https://twitter.com/thewizardlucas>@thewizardlucas</a> -
<a href=https://lucasfcosta.com/2019/04/07/streams-introduction.html>Your terminal is not a terminal: An Introduction to Streams</a></p><p><a href=https://superuser.com/questions/277324/pipes-vs-redirects>pipes versus redirects</a></p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://slash3b.github.io/>Random notes to myself</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>