<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>My chaotic notes on REST API | Random notes to myself</title>
<meta name=keywords content>
<meta name=description content="REST is paradigm or architectural style that defines your API.
  One of the most important and yet simple REST consept is resouce/endpoint, I really like resource term so I&rsquo;m going to use it here. In REST paradigm URL is a resource, e.g. — http://example.org/test/foo.
  You should strive not to use verbs in URL. The only verbs you need are HTTP verbs — GET, HEAD, POST, PUT, PATCH, OPTIONS, TRACE.">
<meta name=author content>
<link rel=canonical href=https://slash3b.github.io/posts/2019-09-28-my-chaotic-notes-on-rest-api/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.6f60056d44d3f7eb69a4bc6c332b59960f3a995802bded244750232f33713c49.css integrity="sha256-b2AFbUTT9+tppLxsMytZlg86mVgCve0kR1AjLzNxPEk=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://slash3b.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://slash3b.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://slash3b.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://slash3b.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://slash3b.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.91.2">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="My chaotic notes on REST API">
<meta property="og:description" content="REST is paradigm or architectural style that defines your API.
  One of the most important and yet simple REST consept is resouce/endpoint, I really like resource term so I&rsquo;m going to use it here. In REST paradigm URL is a resource, e.g. — http://example.org/test/foo.
  You should strive not to use verbs in URL. The only verbs you need are HTTP verbs — GET, HEAD, POST, PUT, PATCH, OPTIONS, TRACE.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://slash3b.github.io/posts/2019-09-28-my-chaotic-notes-on-rest-api/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2019-09-28T00:00:00+00:00">
<meta property="article:modified_time" content="2019-09-28T00:00:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="My chaotic notes on REST API">
<meta name=twitter:description content="REST is paradigm or architectural style that defines your API.
  One of the most important and yet simple REST consept is resouce/endpoint, I really like resource term so I&rsquo;m going to use it here. In REST paradigm URL is a resource, e.g. — http://example.org/test/foo.
  You should strive not to use verbs in URL. The only verbs you need are HTTP verbs — GET, HEAD, POST, PUT, PATCH, OPTIONS, TRACE.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://slash3b.github.io/posts/"},{"@type":"ListItem","position":3,"name":"My chaotic notes on REST API","item":"https://slash3b.github.io/posts/2019-09-28-my-chaotic-notes-on-rest-api/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"My chaotic notes on REST API","name":"My chaotic notes on REST API","description":"REST is paradigm or architectural style that defines your API.\n  One of the most important and yet simple REST consept is resouce/endpoint, I really like resource term so I\u0026rsquo;m going to use it here. In REST paradigm URL is a resource, e.g. — http://example.org/test/foo.\n  You should strive not to use verbs in URL. The only verbs you need are HTTP verbs — GET, HEAD, POST, PUT, PATCH, OPTIONS, TRACE.","keywords":[],"articleBody":"REST is paradigm or architectural style that defines your API.\n  One of the most important and yet simple REST consept is resouce/endpoint, I really like resource term so I’m going to use it here. In REST paradigm URL is a resource, e.g. — http://example.org/test/foo.\n  You should strive not to use verbs in URL. The only verbs you need are HTTP verbs — GET, HEAD, POST, PUT, PATCH, OPTIONS, TRACE.\n  Subresource in REST looks like this — /posts/{id}/author. With GET verb it means — fetch me an author of this particular book. It makes no sense to continue a subresouce with additional nesting. If you have situation like this TRY to move that to separate endpoint. Although the correct answer is always — “it depends” : ) If you are developing something vast and complex e.g. github api than you can/should use longer URLs to fit in all the domain logic.\n  Plan and build API documentaion first. Write your API documentaion with OpenAPI3 and use tools like Prism to create mock API and give it to the client. This way you can get an early feedback, see the full picture before actual development started.\n  If something goes wrong you should use HTTP status codes and custom error codes and messages e.g. twitter error codes. You need to use custom error code because HTTP statuses can not cover all your needs — you have to be more specific about happened errors instead of just sending 500 status with message “Oopps… something went wront”.\nError codes can be used to take specific measures and act accordingly, for instance if you got smth. like “Your JWT token expired” you can do a login and retry an action.\n  Test your API! You can do this with BDD using Behat or use WebTestCase class provided by Symfony.\n  Versioning could be done with prefixing, e.g. /api/v1, /api/v2 and etc. or version number could be sent in Content-Type HTTP header, like github does it\n  For proper authentication use OAuth2 or JWT. OAuth2 seems to be the best choice as a more “solid” authentication solution. Make sure to read “What Happens If Your JWT Is Stolen?” in the resources section.\n  Make sure to check your HTTP headers. Set all security headers and throw away unnecessary once, check security list under Resources section.\n  HATEOAS makes REST api RESTFUL. HATEOAS means you should use Content-Type header and speak in a language your client requires, be it JSON or XML or plain text for some reason. HATEOAS also means that you should provide related data in the form of links in the response. That related data coulb be use in a form “find me all the frends of that user partner”. These links can help your API to work with your API more efficiently.\n  Misc:\n  UUID is a must, do not use auto-incrementing ids\n  Store Timezones, not offsets. Use IANA\n  Obvious, but… SSL is mandatory for all communication.\n  Resources:\nBuild APIs You Wont Hate by Phil Sturgeon\nBuild APIs You Wont Hate: Second Edition\nWhat the hell is REST, Anyway? REST API Tutorial\nWhat Happens If Your JWT Is Stolen?\nAPI-Security-Checklist JSONAPI\nGitHub API\n","wordCount":"522","inLanguage":"en","datePublished":"2019-09-28T00:00:00Z","dateModified":"2019-09-28T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://slash3b.github.io/posts/2019-09-28-my-chaotic-notes-on-rest-api/"},"publisher":{"@type":"Organization","name":"Random notes to myself","logo":{"@type":"ImageObject","url":"https://slash3b.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://slash3b.github.io accesskey=h title="Random notes to myself (Alt + H)">Random notes to myself</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
My chaotic notes on REST API
</h1>
<div class=post-meta>September 28, 2019
</div>
</header>
<div class=post-content><p>REST is paradigm or architectural style that defines your API.</p>
<ul>
<li>
<p>One of the most important and yet simple REST consept is resouce/endpoint, I really like resource term so I&rsquo;m going to use it here. In REST paradigm URL is a resource, e.g. — <a href=http://example.org/test/foo>http://example.org/test/foo</a>.</p>
</li>
<li>
<p>You should strive not to use verbs in URL. The only verbs you need are HTTP verbs — GET, HEAD, POST, PUT, PATCH, OPTIONS, TRACE.</p>
</li>
<li>
<p>Subresource in REST looks like this — <code>/posts/{id}/author</code>. With GET verb it means — fetch me an author of this particular book. It makes no sense to continue a subresouce with additional nesting. If you have situation like this TRY to move that to separate endpoint. Although the correct answer is always — &ldquo;it depends&rdquo; : ) <br>
If you are developing something vast and complex e.g. <a href=https://developer.github.com/v3/>github api</a> than you can/should use longer URLs to fit in all the domain logic.</p>
</li>
<li>
<p>Plan and build API documentaion first. Write your API documentaion with <a href=https://github.com/OAI/OpenAPI-Specification>OpenAPI3</a> and use tools like <a href=https://stoplight.io/open-source/prism/>Prism</a> to create mock API and give it to the client. This way you can get an early feedback, see the full picture before actual development started.</p>
</li>
<li>
<p>If something goes wrong you should use <a href=https://httpstatuses.com>HTTP status codes</a> and custom error codes and messages e.g. <a href=https://developer.twitter.com/en/docs/basics/response-codes>twitter error codes</a>. You need to use custom error code because HTTP statuses can not cover all your needs — you have to be more specific about happened errors instead of just sending 500 status with message &ldquo;Oopps&mldr; something went wront&rdquo;.<br>
Error codes can be used to take specific measures and act accordingly, for instance if you got smth. like &ldquo;Your JWT token expired&rdquo; you can do a login and retry an action.</p>
</li>
<li>
<p>Test your API! You can do this with BDD using <a href=https://behat.org/en/latest/quick_start.html>Behat</a> or use <code>WebTestCase</code> class provided by <a href=https://symfony.com/doc/current/testing.html#functional-tests>Symfony</a>.</p>
</li>
<li>
<p>Versioning could be done with prefixing, e.g. <code>/api/v1</code>, <code>/api/v2</code> and etc. or version number could be sent in Content-Type HTTP header, like <a href=https://developer.github.com/v3/media/#request-specific-version>github</a> does it</p>
</li>
<li>
<p>For proper authentication use <a href=https://oauth.net/code/php/>OAuth2</a> or <a href=https://jwt.io>JWT</a>. OAuth2 seems to be the best choice as a more &ldquo;solid&rdquo; authentication solution. Make sure to read &ldquo;What Happens If Your JWT Is Stolen?&rdquo; in the resources section.</p>
</li>
<li>
<p>Make sure to check your HTTP headers. Set all security headers and throw away unnecessary once, check security list under Resources section.</p>
</li>
<li>
<p>HATEOAS makes REST api RESTFUL. HATEOAS means you should use <code>Content-Type</code> header and speak in a language your client requires, be it JSON or XML or plain text for some reason. HATEOAS also means that you should provide related data in the form of links in the response. That related data coulb be use in a form &ldquo;find me all the frends of that user partner&rdquo;. These links can help your API to work with your API more efficiently.</p>
</li>
</ul>
<p>Misc:</p>
<ul>
<li>
<p>UUID is a must, do not use auto-incrementing ids</p>
</li>
<li>
<p>Store Timezones, not offsets. Use <a href=https://www.iana.org/time-zones>IANA</a></p>
</li>
<li>
<p>Obvious, but&mldr; SSL is mandatory for all communication.</p>
</li>
</ul>
<p>Resources:<br>
<a href=https://leanpub.com/build-apis-you-wont-hate/>Build APIs You Wont Hate by Phil Sturgeon</a><br>
<a href=https://leanpub.com/build-apis-you-wont-hate-2/>Build APIs You Wont Hate: Second Edition</a><br>
<a href=https://programmingisterrible.com/post/181841346708/what-the-hell-is-rest-anyway>What the hell is REST, Anyway?</a>
<a href=https://restfulapi.net/>REST API Tutorial</a><br>
<a href=https://developer.okta.com/blog/2018/06/20/what-happens-if-your-jwt-is-stolen>What Happens If Your JWT Is Stolen?</a><br>
<a href=https://github.com/shieldfy/API-Security-Checklist>API-Security-Checklist</a> <br>
<a href=https://jsonapi.org>JSONAPI</a><br>
<a href=https://developer.github.com/v3/>GitHub API</a></p>
</div>
<footer class=post-footer>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://slash3b.github.io>Random notes to myself</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>